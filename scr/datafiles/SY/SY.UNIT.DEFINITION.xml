<?xml version="1.0" encoding="utf-8"?>
<t24help>
<header>
<product>SY</product>
<table>SY.UNIT.DEFINITION</table>
</header>
<overview>
<ovdesc>

            <p>The table SY.UNIT.DEFINITION will enable the user to create and modify a Unit for a specified Structured Product.</p>
            <p />
            <p>              A Unit represents a component part of a Structured Product; this will usually be a Deal through an existing T24 application but can also be a unit of work or piece of processing to be carried out during the product lifecycle.</p>
            <p />
            <p>              The Unit encapsulates a bi-directional mapping between the Structured Product and the underlying T24 application. An Operation on a Unit is triggered by an Event in the Structured Product lifecycle. </p>
        </ovdesc>
<ovimage></ovimage>
</overview>
<menu>
<t>
<field>VIRTUAL.FIELD.NAME</field>
<desc>
            <p>Not used on the Unit Definition</p>
        </desc>
</t>
<t>
<field>VERSION</field>
<desc>
            <p>This is the Version that will be used to apply the T24 function (Operation) to the underlying deal.</p>
            <p />
            <p>             A valid VERSION of the T24.APPLICATION. </p>
            <p>             This is mandatory if any of the associated Operations are “New”, “Input”, “Reverse”, “Authorise”, “Delete” or “Verify”. </p>
            <p />
        </desc>
</t>
<t>
<field>UNIT.NAME</field>
<desc>
            <p>This is the second and last part of the Unit Definition key. As this will usually apply to a specific T24 deal it is advisable to try to make this as descriptive as possible. E.g. “FxHedgeOption” will aid in recognising not just what type of deal this is but what its function is with regards to this Product.</p>
            <p />
            <p>             This field is automatically populated from second part of the record ID.</p>
        </desc>
</t>
<t>
<field>PRODUCT.DEFINITION</field>
<desc>
            <p>This is the first part of the Unit Definition key and is the PRODUCT.DEFINITION that this Unit has been created for. </p>
            <p />
            <p>             A valid PRODUCT.DEFINITION record which is automatically populated from the first part of the record ID.</p>
        </desc>
</t>
<t>
<field>ROUTINE</field>
<desc>
            <p>This is a subroutine that will be run when the Run Operation is carried out on this unit.</p>
            <p />
            <p>             Mandatory if “Run” is one of the operations.</p>
            <p />
            <p>             If present must be a valid Subroutine name.</p>
        </desc>
</t>
<t>
<field>FUNCTION</field>
<desc>
            <p>This defines the function used to populate the virtual field.</p>
            <p />
            <p>  For the “Drill Down” function the PRI.VALUE and SEC.VALUE fields are ignored and the DRILLDOWN.ID, DRILLDOWN.APP and DD.FIELD.NAME fields are used to obtain a value from a T24 table.</p>
            <p />
            <p>  For the "Find Value" function the DRILLDOWN.ID, DRILLDOWN.APP and DD.FIELD.NAME must be populated along with PRI.VALUE for the value name to find and SEC.VALUE for the multi valued field to find the value in. The Returned value will be the contents of DD.FIELD.NAME at the corresponding position.</p>
            <p>  For the “Get Account” function only the SEC.VALUE field is required and this must resolve to a currency code in order to return an internal account number.</p>
            <p />
            <p>  For all other functions this is the Function to be applied between PRI.VALUE and SEC.VALUE.  There categories are Mathmatical, Boolean and String.</p>
            <p />
            <p>             It is the users responsibility to ensure that the operators are applied to the correct data types.</p>
            <p />
            <p>        Can be one of the mathematical functions:</p>
            <p>         '+', '-', '*' or '/' </p>
            <p />
            <p>        One of the boolean functions</p>
            <p>         'EQ', 'NE', 'GT', 'LT', 'GE', 'LE', 'OR' or 'AND'</p>
            <p />
            <p>        The string function 'Concatenate'</p>
            <p />
            <p>        The assignment function '='</p>
            <p />
            <p>        'Drill Down', 'Get Account' or null. </p>
        </desc>
</t>
<t>
<field>SHORT.DESC</field>
<desc>
            <p>A short language independent description of this Unit Definition.</p>
            <p />
            <p>             This field is mandatory.</p>
        </desc>
</t>
<t>
<field>INSTANCE</field>
<desc>
            <p>Not used on the Unit Definition</p>
        </desc>
</t>
<t>
<field>T24.APPLICATION</field>
<desc>
            <p>The ID of the underlying T24 application.</p>
            <p />
            <p>             This cannot be an SY.EVENT and cannot be changed when a T24.APP.ID is present.</p>
            <p />
        </desc>
</t>
<t>
<field>SY.TRANSACTION</field>
<desc>
            <p>Not used on the Unit Definition</p>
        </desc>
</t>
<t>
<field>FILTER</field>
<desc>
            <p>When this field evaluates to True, all of the fields in this Value set will be ignored for the specified set of AppOperation(s). </p>
            <p>             Hence the routine will not run, the version will not be used and the mapping will be ignored.</p>
            <p />
            <p>             If prefixed by an '@' this is a subroutine (Which must exist) otherwise this must be a Virtual Field on this Unit </p>
            <p />
            <p>             Filtering out an Operation is not an error therfore processing will continue as normal.</p>
            <p />
            <p />
        </desc>
</t>
<t>
<field>MESSAGE.REF</field>
<desc>
            <p>System-generated field only.  Used in SY.UNIT.LOG only.</p>
        </desc>
</t>
<t>
<field>LIFECYCLE.DATE</field>
<desc>
            <p>Not used on the Unit Definition</p>
        </desc>
</t>
<t>
<field>INHERIT.FROM.UNIT</field>
<desc>
            <p>Allows functionallity to be inherited from an existing Unit Definition.</p>
            <p>             If present this defines the Unit Definition that this unit will inherit its values from.</p>
            <p />
            <p>             Must be a valid SY.UNIT.DEFINITION ID which must not be this ID.</p>
        </desc>
</t>
<t>
<field>UNIT.DEFINITION.ID</field>
<desc>
            <p>The ID of this record.</p>
            <p />
            <p>             This will be a 2 part key comprising a valid SY.PRODUCT.DEFINTION ID and a free-text UNIT.NAME seperated by '.'</p>
        </desc>
</t>
<t>
<field>DRILLDOWN.ID</field>
<desc>
            <p>This is the ID of the record to be obtained from the DRILLDOWN.APP. </p>
            <p>             It should only be populated in conjunction with the “Drill Down” Function.</p>
            <p />
            <p>             This must be a “quoted literal”, a VIRTUAL.FIELD, a valid subroutine name prefixed by an '@' character or the keyword ‘THIS’.</p>
            <p />
            <p>             Where the keyword THIS is used, the Transaction, Product, Event, Unit or Application record that relates to this instance of the Unit will be used.</p>
            <p />
        </desc>
</t>
<t>
<field>OPERATION</field>
<desc>
            <p>Not used on the Unit Definition</p>
        </desc>
</t>
<t>
<field>FORMAT.ENTRY.REC</field>
<desc>
            <p>This is the EB.FORMAT.ENTRY record that will be used to map from the “syTransaction”, “Application”, “syEvent” or “syUnit” to the T24.APPLICATION.</p>
            <p />
            <p>             Must be a valid  EB.FORMAT.ENTRY  ID.</p>
        </desc>
</t>
<t>
<field>LIFECYCLE.OP</field>
<desc>
            <p>Not used on the Unit Definition</p>
        </desc>
</t>
<t>
<field>OVERRIDE</field>
<desc>
            <p>This field holds any overrides generated on committing this record.</p>
            <p />
            <p>      System-generated field.</p>
        </desc>
</t>
<t>
<field>SEQUENCE</field>
<desc>
            <p>Not used on the Unit Definition</p>
        </desc>
</t>
<t>
<field>STATUS</field>
<desc>
            <p>Indicates the source table for the drilldown information. Drilldown can be to either the live file or the unauthorised file.  This field is associated with the DRILLDOWN.APP, DRILLDOWN.ID and DD.FIELD.NAME fields.</p>
        </desc>
</t>
<t>
<field>LIFECYCLE.FILT</field>
<desc>
            <p>Not used on the Unit Definition</p>
        </desc>
</t>
<t>
<field>TRACKING</field>
<desc>
            <p>When Tracking is enabled the instantiated Units will track any changes made to the Unit Definition during the product lifecycle. Otherwise the instantiated Units will copy the state of the Unit definition when created.</p>
            <p />
            <p>             Possible values are 'Yes' or 'No'.</p>
            <p />
            <p>             This field is mandatory.</p>
        </desc>
</t>
<t>
<field>DRILLDOWN.APP</field>
<desc>
            <p>This is the application from which to obtain data. It should only be populated in conjunction with the “Drill Down” Function.</p>
            <p />
            <p>             If the operator is not  “Drill Down” then this must be null.</p>
        </desc>
</t>
<t>
<field>DESCRIPTION</field>
<desc>
            <p>A full language independent description of this Unit Definition.</p>
            <p />
            <p>             This field is mandatory.</p>
        </desc>
</t>
<t>
<field>LIFECYCLE.EVENT</field>
<desc>
            <p>Not used on the Unit Definition</p>
        </desc>
</t>
<t>
<field>LIFECYCLE.TIME</field>
<desc>
            <p>Not used on the Unit Definition</p>
        </desc>
</t>
<t>
<field>FLD.OPERATION</field>
<desc>
            <p>The virtual fields will only be evaluated for the Operation(s) listed here.</p>
            <p />
            <p>             The list of Operation(s) for which these fields are required.</p>
            <p>             One or more of  the following options: “New”, “Input”, “Reverse”,  “Authorise”, “Delete”, “Verify” or “Run”. </p>
            <p />
        </desc>
</t>
<t>
<field>VIRTUAL.FIELD.VALUE</field>
<desc>
            <p>Not used on the Unit Definition</p>
        </desc>
</t>
<t>
<field>STORE</field>
<desc>
            <p>If this field is “Yes” the value pair will be stored back to the SY.TRANSACTION in the STORE.NAME and STORE.VALUE fields.</p>
            <p />
            <p>             This mechanism allows data to be shared between Units and Events.</p>
            <p />
            <p>             Can be 'Yes' or null.</p>
        </desc>
</t>
<t>
<field>VIRTUAL.FIELD</field>
<desc>
            <p>A virtual field name.</p>
            <p />
            <p>             This is a label which can be used to access the value which is calculated from the associated field set.</p>
            <p />
        </desc>
</t>
<t>
<field>PRI.VALUE</field>
<desc>
            <p>This field can be either a “Quoted literal value”, a virtual field name or a valid subroutine name prefixd by an '@' character.</p>
            <p />
            <p>  If the function is “Drill Down” then this must be null.</p>
        </desc>
</t>
<t>
<field>MAP.FROM</field>
<desc>
            <p>This specifies the source record to be mapped into the T24.APPLICATION. using the corresponding EB.FORMAT.ENTRY record.</p>
            <p />
            <p>             One of “Transaction”, “Application”, “Event” or “Unit”.</p>
        </desc>
</t>
<t>
<field>EB.ACTIVITY</field>
<desc>
            <p>This field can be used to specify delivery message(s) to be generated against this application operation.</p>
            <p />
            <p>     Must be a valid record on EB.ACTIVITY.</p>
        </desc>
</t>
<t>
<field>SEC.VALUE</field>
<desc>
            <p>This field can be either a “Quoted literal value”, a virtual field name or a valid subroutine name prefiexd by an '@' character.</p>
            <p />
            <p>             Validation As PRI.VALUE.</p>
            <p />
            <p>  When the function is "Find Value" this must contain a valid field name in the DRILLDOWN.APP.</p>
        </desc>
</t>
<t>
<field>VIRT.FLD.FILTER</field>
<desc>
            <p>This field can be either a “Quoted literal value”, a virtual field name or a valid subroutine name prefixd by an '@' character.</p>
            <p />
            <p>           When this field evaluates to True, all of the fields in this Value set will be ignored for the specified set of Field Operation(s). </p>
            <p />
        </desc>
</t>
<t>
<field>INTERNAL.USE</field>
<desc>
            <p>System-generated field.  Internal system use only.</p>
        </desc>
</t>
<t>
<field>T24.APP.ID</field>
<desc>
            <p>Not used on the Unit Definition</p>
        </desc>
</t>
<t>
<field>ACTIVITY.CODE</field>
<desc>
            <p>System-generated field only.  Used in SY.UNIT.LOG only.</p>
        </desc>
</t>
<t>
<field>APP.ID.SOURCE</field>
<desc>
            <p>If populated, this field will be used to create the T24.APP.ID.</p>
            <p />
            <p>         This field can be either a “Quoted literal value”, a virtual field name or a valid subroutine name prefixd by an '@' character.</p>
            <p />
            <p />
        </desc>
</t>
<t>
<field>APP.OPERATION</field>
<desc>
            <p>The applied Operation(s) to which the corresponding filter, routine, version and mappings apply.</p>
            <p />
            <p>             One of the options: “New”, “Input”, “Reverse”, “Authorise”, “Delete”, “Verify” or “Run”.</p>
        </desc>
</t>
<t>
<field>DD.FIELD.NAME</field>
<desc>
            <p>This is the name of the field to return from the STANDARD.SELECTION record specified in DRILLDOWN.</p>
            <p />
            <p>             It should only be populated in conjunction with the “Drill Down” Function.</p>
            <p />
            <p>             If the operator is not “Drill Down” then this must be null, otherwise this must be a valid SYS.FIELD.NAME or USER.FIELD.NAME from the STANDARD.SELECTION record specified in DRILLDOWN.</p>
            <p />
        </desc>
</t>
</menu>
</t24help>

