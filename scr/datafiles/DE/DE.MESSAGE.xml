<?xml version="1.0" encoding="utf-8"?>
<t24help>
<header>
<product>DE</product>
<table>DE.MESSAGE</table>
</header>
<overview>
<ovdesc>

            <p>This table defines the contents of each basic Message Type. It lists the fields, describes them as single or multi value, and states whether each field is mandatory or optional.  It also determines whether a testkey is required for each message type. </p>
            <p>The ID chosen for each Message Type should, where possible, conform to a SWIFT message type, defined in the SWIFT manual, even when there is no intention of sending a message by SWIFT.  This avoids confusion when an incoming SWIFT message is received.  On the Delivery Message Table a message may be defined with many more fields than the corresponding SWIFT message because additional information may be required for printed versions. </p>
            <p>Where there is no corresponding SWIFT message type (e.g. for printing a cheque) then a Message Type outside the SWIFT message range should be allocated, i.e. not 100 to 999. </p>
        </ovdesc>
<ovimage></ovimage>
</overview>
<menu>
<t>
<field>MANDATORY</field>
<desc>
            <p>Defines whether a field is a mandatory component of this type of message. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>'Y' (Field is mandatory)            or 'NO' (Field is optional).  Field range FIELD.NAME to MANDATORY form a multivalue set describing each field in this type of message.  (Optional input. Default value 'NO'.)</p>
        </desc>
</t>
<t>
<field>TEST.KEY.REQ.</field>
<desc>
            <p>Defines whether a testkey is required for telex messages of this type. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>'Y' or 'No'. (Optional input.  Default value 'No').</p>
        </desc>
</t>
<t>
<field>USR.FIELD.NAME</field>
<desc>
            <p>Specifies a short descriptive name by which this field will be known to the Delivery System when describing the mapping and formatting of this Message Type.</p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p />
            <p>1-18 type A (alphanumeric) characters.</p>
            <p>Fields 6-10 form a multivalue set describing each field in this type of message. </p>
            <p>Mandatory input</p>
            <p>Field name must be unique for the User fields.</p>
            <p>Field range USR.FIELD.NAME to USR.MANDATORY form a multivalue set     describing each field in this type of message.</p>
        </desc>
</t>
<t>
<field>USR.SING.MULT</field>
<desc>
            <p>Defines whether a Single or Multivalue field.</p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p />
            <p>Optional field</p>
            <p>Defaults to "S" when there is No Input</p>
            <p>'S' (single) or 'M' (multivalue). Fields 6-10 form a multivalue set describing each field in this type of message.</p>
        </desc>
</t>
<t>
<field>FIELD.NAME</field>
<desc>
            <p>Specifies a short descriptive name by which this field will be known to the Delivery System when describing the mapping and formatting of this Message Type. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>1-18 type A (alphanumeric) characters. Fields 6-10 form a multivalue set describing each field in this type of message. (Mandatory input) Field name must be unique within this Message Type.</p>
        </desc>
</t>
<t>
<field>SINGLE.MULTI</field>
<desc>
            <p>Defines whether a Single or Multivalue field. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>'S' (single) or 'M' (multivalue). Fields 6-10 form a multivalue set describing each field in this type of message. (Optional input. Default value 'S'.)</p>
        </desc>
</t>
<t>
<field>MESSAGE.TYPE</field>
<desc>
            <p>Specifies the general classification of the message defined in this record, and should generally be the same as the SWIFT message number corresponding to the same type of transaction. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>1-4 numeric characters. </p>
        </desc>
</t>
<t>
<field>IN.OFS.PARAM</field>
<desc>
            <p>Defines a parameter, which may be used by the routine defined in IN.OFS.ROUTINE.</p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p />
            <p />
            <p>Can only be input if IN.OFS.RTN is populated.</p>
            <p>Up to 35 alphanumeric characters</p>
        </desc>
</t>
<t>
<field>TEST.KEY.REQ</field>
<desc>
            <p>Specify whether test key required for this Message Type.</p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p />
            <p>Optional field </p>
            <p>Valid value "Yes" or "NO"</p>
        </desc>
</t>
<t>
<field>DESCRIPTION</field>
<desc>
            <p>Describes the function of this type of message. </p>
            <p>Descriptions may be entered in each of the languages defined in the Language table. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>3-35 type A (alphanumeric) characters.  Multilanguage field. (Mandatory input)</p>
        </desc>
</t>
<t>
<field>NETTING.ALLOWED</field>
<desc>
            <p>Specify whether to group MT202 message and single MT203 to be generated from Funds.Transfer application.</p>
            <p>When this field and Netting.Allowed field in DE.PARM both is set to "Yes" then Funds.Transfer will suppress the Message MT202 during delivery formatting and details are captured in NETTING.ENTRY application to generate MT203 subject to the value entered in Netting.Status in FT Contract.</p>
            <p>Please note NETTING application is used by FT only to generate MT203 instead of MT202and transaction related to the message raised through FT application it self and not handled by NETTING. Ie No Accounting entries at Netting Level for FT</p>
            <p>See Funds Transfer User guide for Details</p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p />
            <p>Input allowed only for id = 202 &amp; Netting.Allowed = "Yes" in      DE.PARM    </p>
            <p>Valid values "Yes" Or Null.</p>
        </desc>
</t>
<t>
<field>TRANSLATION</field>
<desc>
            <p>Specifies whether translation into various languages may be used for this Message Type. </p>
            <p>The Delivery System can be simplified by not using the language translation facility. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>Either  'Y'  (translate)               or         'NO' (don't translate)  (Optional input. Default value 'Y'.)</p>
        </desc>
</t>
<t>
<field>USR.LENGTH</field>
<desc>
            <p>Primarily specifies the length of a field for incoming Swift messages, but is also used in FORMAT.PRINT when the need to produce a dummy print of this message type arises.</p>  Dates must be defined as length 6, and not as length 8, (their actual length as stored in the Delivery System) in case they are received in incoming SWIFT messages as a compound Date/Currency/Amount field. When an incoming field is decoded the number of characters used in a date field in the internal Delivery System message is 6 and not 8. <p>Any other field which might be received as part of a compound SWIFT field must also have its length defined as the length received from SWIFT. Amounts are considered by SWIFT to have a variable length, therefore 'LENGTH' for amounts is unimportant.</p><p><p>Validation Rules:</p></p><p /><p>Optional input.</p><p>1-3 numeric characters. Field range USR.FIELD.NAME to USR.MANDATORY form a multivalue set describing each field in this type of message.   </p></desc>
</t>
<t>
<field>OFS.SOURCE</field>
<desc>
            <p>Where Inward delivery processing is done via OFS the system requires an OFS.SOURCE record specified here in order that the syntax, OFS settings and OFS log file locations can be read.</p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p />
            <p>Must be an authorised record on the OFS.SOURCE application</p>
        </desc>
</t>
<t>
<field>INWARD.OFS.RTN</field>
<desc>
            <p>Identifies a routine used to process inward FUNDS.TRANSFER messages, a default routine FT.OFS.DEFAULT.MAPPING is available for 100, 200, 202 and 205 DE.MESSAGE types. </p>
            <p>The OFS based processing of inward messages used to create Funds Transfer records works as follows.</p>
            <p>An OFS.SOURCE record should be set up with FT.OFS.INWARD.MAPPING defined in the IN.DIR.RTN field. </p>
            <p>An EB.PHANTOM record with OFS.REQUEST.MANAGER defined in RUN.ROUTINE should be set up and activated.</p>
            <p>Whenever the OFS inward message directory is empty then FT.OFS.INWARD.MAPPING will be called, this routine will process inward messages stored in DE.I.MSG.FT, which is updated by the delivery system.</p>
            <p>For each inward message type processed, if a routine is defined in this field of the relevant DE.MESSAGE record, then it will be called with the following parameters</p>
            <table>
                <tr>
                    <td>ID.IN</td>
                    <td>The @id of the DE.I.MSG.FT record</td>
                </tr>
                <tr>
                    <td>R.INWARD</td>
                    <td>The DE.I.MSG.FT record which has been mapped from the incoming SWIFT message</td>
                </tr>
                <tr>
                    <td>R.SWIFT</td>
                    <td>The incoming SWIFT message</td>
                </tr>
                <tr>
                    <td>MESSAGE.TYPE</td>
                    <td>e.g. 100, 200, 202, 205</td>
                </tr>
                <tr>
                    <td>R.DE.MESSAGE</td>
                    <td>The DE.MESSAGE record, i.e. this record.</td>
                </tr>
                <tr>
                    <td>OFS.KEY</td>
                    <td>Returned from the called routine, defines the @ID of the OFS message which will be copied into the OFS input directory. This will be the FT record key when returned from the default routine.</td>
                </tr>
                <tr>
                    <td>OFS.MESSAGE</td>
                    <td>The OFS message text, returned from the called routine. </td>
                </tr>
                <tr>
                    <td>R.DE.MESSAGE</td>
                    <td>The DE.MESSAGE record, i.e. this record.</td>
                </tr>
            </table>
            <p>A detailed description of the default mapping routine logic can be found in the API developers guide. This routine will create and return an OFS message used to create a Funds Transfer. </p>
            <p>The OFS message returned is copied into the OFS input directory as defined on the OFS source record, normal OFS processing will then take place and if all validation is successful will result in an FT record being created, either inward or outward depending on the type of incoming message.</p>
            <p>It is possible to automatically generate outward SWIFT 205 messages if zero authoriser OFS versions are used together with FWD.IN.TXN being set to "YES" on the relevant FT.TXN.TYPE.CONDITION record.</p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p />
            <p />
            <p>Optional input</p>
            <p />
            <p>If input then must de defined as a type "S" routine on PGM.FILE.</p>
        </desc>
</t>
<t>
<field>IN.OFS.VALUE</field>
<desc>
            <p>Defines a value associated with IN.OFS.PARAM</p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p />
            <p />
            <p>Can only be input if IN.OFS.RTN is populated. </p>
            <p>Up to 35 characters</p>
        </desc>
</t>
<t>
<field>SINGLEXMULTI</field>
<desc>
            <p>Fields FIELD NAME to MANDATORY form a related multi value set. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>A maximum of 1 characters may be entered.</p>
            <p>The following values are permitted:       S      M</p>
        </desc>
</t>
<t>
<field>USR.MANDATORY</field>
<desc>
            <p>Defines whether a field is a mandatory component of this type of message. </p>
            <p>If mandatory then the field should have a map record in DE.MAPPING.</p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p />
            <p>Optional Input</p>
            <p>Defaults to "NO" when there is no Input.</p>
            <p>'Y' (Field is mandatory) or 'NO' (Field is optional). Field range USR.FIELD.NAME to       USR.MANDATORY form a multivalue set describing each field in this type of message.</p>
        </desc>
</t>
<t>
<field>USR.PRINT.TYPE</field>
<desc>
            <p>Defines whether a field is alphanumeric or numeric. This will be checked if the field is treated as a numeric field in FORMAT.PRINT, i.e. if it is used to generate totals, or formatted as a numeric field.</p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p />
            <p>Optional Input.</p>
            <p>Defaults to "A" when there is no input.</p>
            <p>'A' (alphanumeric) or 'N' (numeric).     </p>
            <p>Field range USR.FIELD.NAME to USR.MANDATORY form a multivalue set       describing each field in this type of message.     </p>
        </desc>
</t>
<t>
<field>LENGTH</field>
<desc>
            <p>Primarily specifies the length of a field for incoming Swift messages, but is also used in FORMAT.PRINT when the need to produce a dummy print of this message type arises. </p>
            <p>Dates must be defined as length 6, and not as length 8, (their actual length as stored in the Delivery System) in case they are received in incoming SWIFT messages as a compound Date/Currency/Amount field.  When an incoming field is decoded the number of characters used in a date field in the internal Delivery System message is 6 and not 8. </p>
            <p>Any other field which might be received as part of a compound SWIFT field must also have its length defined as the length received from SWIFT. Amounts are considered by SWIFT to have a variable length, therefore 'LENGTH' for amounts is unimportant. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>1-3 numeric characters.  Field range FIELD.NAME to MANDATORY form a multivalue set describing each field in this type of message. (Optional input)</p>
        </desc>
</t>
<t>
<field>PRINT.TYPE</field>
<desc>
            <p>Defines whether a field is alphanumeric or numeric.  This will be checked if the field is treated as a numeric field in FORMAT.PRINT, i.e. if it is used to generate totals, or formatted as a numeric field. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>'A' (alphanumeric) or 'N' (numeric). Fields 6-10 form a multivalue set describing each field in this type of message. (Optional input. Default 'A'.)</p>
        </desc>
</t>
<t>
<field>IN.OFS.VERSION</field>
<desc>
            <p />
            <p>Defines</p>
            <p />VERSION to be used by the IN.OFS.RTN in the creation of an OFS message used to create a Funds Transfer. This field is a multi value field, which can have different application version also.<p />By default first value is considered for inward process. <p><p>Validation Rules:</p></p><p /><p /><p>Can only be input if IN.OFS.RTN is populated</p><p>If input must be a valid VERSION record @ID</p></desc>
</t>
<t>
<field>APPLICATION.QUEUE</field>
<desc>
            <p>Specifies the Application which should receive an inward message of this type. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>Any input must exist on the EB.PRODUCT file. (Optional input. Messages whose application is undefined will be sent to Funds Transfer.)</p>
        </desc>
</t>
<t>
<field>CHECK.AGREEMENT</field>
<desc>
            <p>When MT101 messages are processed using OFS.GLOBUS.MANAGER, the checking of bilateral agreement can be done by setting this flag to "Yes". This check is required since Message MT101 requires Message User Group( MUG ) registration.</p>
            <p>The Agreement details can be defined for the Sender of MT101 in NETTING.AGREEMENT as ID along with Ordering Customer (tag 50g) BIC details in Agreed.Custs (Valid BIC code).</p>
            <p>Inward Processing of MT101 message is done and FT will be created only when the Sender and Ordering customer is available in NETTING.AGREEMENT otherwise Inward messages will be moved to Repair Status in DE.I.HEADER application with Error details as missing agreement for Sender / Ordering Customer.</p>
            <p>When  Incoming MT101 has tag 50H (Name &amp; Address) and sender of MT101 defined in NETTING.AGREEMENT, then checking for ordering Customer is skipped.</p>
            <p>Incase the Check.Agreement is Null then MT101 message is processed without checking for a record in NETTING.AGREEMENT.</p>
            <p>Checking is available only for Inward MT101 message processing done through OFS.GLOBUS.MANAGER.</p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p />
            <p>Input Allowed only for Message ID =101   </p>
            <p>Valid values "Y" or Null</p>
        </desc>
</t>
<t>
<field>COPIES</field>
<desc>
            <p>Specifies whether copies of this type of message may be made. </p>
            <p>This can be used to prevent the generation of copies for messages of this type.  (This would be normal for payment messages.) </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>'Y'  (copies allowed)        or 'NO' (copies not allowed)  (Optional input.  Default value 'Y'.)</p>
        </desc>
</t>
<t>
<field>DELETE</field>
<desc>
            <p>Specifies whether messages of this type may be deleted. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>'Y'  (allow deletion)           or 'NO' (deletion not allowed - normal for payment messages.)  (Optional input. Default value 'Y'.)</p>
        </desc>
</t>
</menu>
</t24help>

