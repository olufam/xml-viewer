<?xml version="1.0" encoding="utf-8"?>
<t24help>
<header>
<product>DE</product>
<table>DE.I.HEADER</table>
</header>
<overview>
<ovdesc>

            <p>INCOMING MESSAGE HEADERS ======================== </p>
            <p>When an incoming message is received from a carrier device (e.g. SWIFT, TELEX, EUCLID), it is in the format required by that carrier (the equivalent of a formatted outgoing message). The appropriate carrier control program takes the header and trailer of the message and creates a header record with as much information as is available. Messages found to contain a testkey line are placed on the inward testkey file with a disposition of 'ATK'. They remain here until the testkey is correctly verified. Incorrect verification causes the message to be placed in inward repair with a disposition of 'REPAIR'. Messages of a type which requires a testkey as set in the message table (DE.MESSAGE) and which are found not to contain one are also sent to inward repair. If a testkey is not found or is not required the message is placed on the 'UNFORMATTED' queue and the disposition on the header record is set to 'UNFORMATTED'. If there is an error in decoding the header or trailer of the message, the message is placed in the repair queue and the disposition on the header record is set to 'REPAIR'. </p>
            <p>Messages on the unformatted queue are decoded by the formatting module. Fields from the text of the message can be placed on the header record, e.g. transaction reference, amount. Once the message has been successfully decoded, it is placed on the incoming queue for the application designated for that message type, and the disposition is set to 'FORMATTED'. </p>
            <p>If an error occurs during formatting, the message is placed in the repair queue and the disposition is set to 'REPAIR'. </p>
            <p>'FORMATTED' messages are then processed by xx.IN.PROCESSING (xx = FT or LC), which is usually run as a phantom, to produce FUNDS.TRANSFER or LETTER.OF.CREDIT records.</p>
            <p>'DISPOSITION, 'ERROR CODE', PRIORITY' and 'STATUS' are always used for incoming messages rather than 'MSG DISPOSITION', 'MSG ERROR CODE', 'MSG PRIORITY' and 'MSG STATUS' since there will always only be one copy of an incoming message. </p>
            <p />
            <p>Flow diagram -</p>
            <p />
        </ovdesc>
<ovimage></ovimage>
</overview>
<menu>
<t>
<field>FORMAT</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>This is a NOINPUT field.</p>
        </desc>
</t>
<t>
<field>MESSAGE.TYPE</field>
<desc>
            <p>Specifies the basic Message Type as defined in the DE.MESSAGE table. </p>
            <p>Message type is extracted from the incoming message text. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>Not input</p>
        </desc>
</t>
<t>
<field>DATE.TIME.STAMP</field>
<desc>
            <p>Specifies the ID of the Message Header. It is generated automatically. </p>
            <p>For incoming Messages the Date Time Stamp is allocated by the Inward Carrier Control Module receiving the message. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>'R'    (Received) Year   (4 numeric characters) Month  (2 numeric characters) Day    (2 numeric characters) Time   (a 7-digit number taken from the computer's internal clock.)  New records cannot be added to this file by the user.</p>
        </desc>
</t>
<t>
<field>MSG.STATUS</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>(No input.)</p>
        </desc>
</t>
<t>
<field>COUNTRY.CODE</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>(No input.)</p>
        </desc>
</t>
<t>
<field>INWARD.PAY.TYPE</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>No input.</p>
        </desc>
</t>
<t>
<field>REPLY.TO.ADR</field>
<desc>
            <p>Help Text for this field is unavailable.  Please refer to the T24 User Guides for further information.</p>
        </desc>
</t>
<t>
<field>DESTINATION.CODE</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>No input.</p>
        </desc>
</t>
<t>
<field>FORM.TYPE</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>(No input.)</p>
        </desc>
</t>
<t>
<field>OVERRIDE.CARRIER</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>No input.</p>
        </desc>
</t>
<t>
<field>COPY.NUMBER</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>(No input.)</p>
        </desc>
</t>
<t>
<field>MSG.PDE</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>(No input.)</p>
        </desc>
</t>
<t>
<field>DISPOSITION.NO</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>(No input.)</p>
        </desc>
</t>
<t>
<field>ERROR.CODE</field>
<desc>
            <p>If Disposition is 'Repair' this field will contain a description of the error that caused the message to be put onto the Repair Queue.  If a message that was in repair is subsequently deleted, the error code will still be stored in this field. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>Not input.</p>
        </desc>
</t>
<t>
<field>T24.INW.TRANS.REF</field>
<desc>
            <p>Help Text for this field is unavailable.  Please refer to the T24 User Guides for further information.</p>
        </desc>
</t>
<t>
<field>MSG.LANGUAGE</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>(No input.)</p>
        </desc>
</t>
<t>
<field>INW.HEAD.TRAIL</field>
<desc>
            <p>Help Text for this field is unavailable.  Please refer to the T24 User Guides for further information.</p>
        </desc>
</t>
<t>
<field>BANK.DATE</field>
<desc>
            <p>Identifies the message switch through which this message passed to or from its carrier. </p>
            <p>This field is only used when a switch other than the default is used.  At present the only such case is the use of DMNL in place of the default SWIFT switch ST200. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>8 type A(alpha.) (Not Input - updated in appropriate carrier control module.)</p>
        </desc>
</t>
<t>
<field>POS.DUP.ENTRY</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>Not input.</p>
        </desc>
</t>
<t>
<field>MSG.DISPOSITION</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>Message disposition is described by DISPOSITION (Field 5) since there will only be one message copy in each inward header record. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>(No input.)</p>
        </desc>
</t>
<t>
<field>MSG.PRIORITY</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>Message priority is defined by PRIORITY (Field 6) for inward messages since there will only be one message copy in each header record. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>(No input.)</p>
        </desc>
</t>
<t>
<field>DEPARTMENT</field>
<desc>
            <p>Specifies the Department designated in the DE.INWARD.ROUTING table to receive the message. </p>
            <p>For incoming messages Department may be used by the Banking Application to control which transactions are to be visible on any particular screen. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>This is a NOINPUT field.</p>
        </desc>
</t>
<t>
<field>TO.ADDRESS</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>(No input.)</p>
        </desc>
</t>
<t>
<field>LANGUAGE</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>This is a NOINPUT field.</p>
        </desc>
</t>
<t>
<field>PRIORITY</field>
<desc>
            <p>The priority of the message as determined from the incoming message text. </p>
            <p>For inward TELEX or SWIFT messages which contain a priority line this field is updated with the priority from the message. Default priority of 'N' is used if not present in the message except for inward EUCILD messages which take a priority of 'P' and inward EUCLID headers and trailers which take 'U'. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>'U' (Urgent)   or 'P' (Priority) or 'N' (Normal)</p>
            <p>This is a NOINPUT field.</p>
        </desc>
</t>
<t>
<field>TRANSACTION.REF</field>
<desc>
            <p>Specifies the transaction identifier, which is the key to the transaction details. </p>
            <p>Picked up from inward message text if available or appropriate. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>(Not input)</p>
        </desc>
</t>
<t>
<field>TESTKEY.INP.VER</field>
<desc>
            <p>Contains the name of the person who verified the testkey in incoming messages. </p>
            <p>This field is only used on telex messages which required a test key to be input on outgoing messages or a test key verified on incoming messages.  It is updated when the test key is input or verified. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>16 alphanumeric characters. (No input).</p>
        </desc>
</t>
<t>
<field>SENT.STAMP</field>
<desc>
            <p>The time that the Msg Disposition was changed to 'WACK'. </p>
            <p>For an inward message, this is the time the message was sent to SWIFT (for SWIFT) or the time the PRIME received the message (for Telex). </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>Numeric. Hours, minutes and seconds (HH:MM:SS).</p>
        </desc>
</t>
<t>
<field>MSG.CLASSIFICATION</field>
<desc>
            <p>This field is used to Identify a Cover message.</p>
            <p>When there is an incoming SWIFT MT202 COV message or MT205 COV message, this field is updated with the value 'COVER' .  Null otherwise. </p>
            <p>No input field.</p>
        </desc>
</t>
<t>
<field>VALUE.DATE</field>
<desc>
            <p>Specifies a Value Date that corresponds to the AMOUNT (Field 19). </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>Standard T24 date format (Not input - picked up from inward message when available or appropriate.)</p>
        </desc>
</t>
<t>
<field>FRAME.NUMBER</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>(No input.)</p>
        </desc>
</t>
<t>
<field>SHORT.NAME</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>(No input.)</p>
        </desc>
</t>
<t>
<field>RECEIVED.STAMP</field>
<desc>
            <p>The time the message was received by the inward carrier. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>Numeric. Hours, minutes and seconds (HH:MM:SS). (No input.)</p>
        </desc>
</t>
<t>
<field>MSG.ERROR.CODE</field>
<desc>
            <p>Not used for inward message. </p>
            <p>Error codes are stored in ERROR CODE (Field 5) since only one message copy is described in each header record. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>(No input.)</p>
        </desc>
</t>
<t>
<field>COPY.MSG</field>
<desc>
            <p>Help Text for this field is unavailable.  Please refer to the T24 User Guides for further information.</p>
        </desc>
</t>
<t>
<field>K.FORMAT</field>
<desc>
            <p>Help Text for this field is unavailable.  Please refer to the T24 User Guides for further information.</p>
        </desc>
</t>
<t>
<field>CUS..COMPANY</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>Not input.</p>
        </desc>
</t>
<t>
<field>STP.STATUS</field>
<desc>
            <p>Help Text for this field is unavailable.  Please refer to the T24 User Guides for further information.</p>
        </desc>
</t>
<t>
<field>STATUS</field>
<desc>
            <p>No used for inward messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>This is a NOINPUT field.</p>
        </desc>
</t>
<t>
<field>CUSTOMER.NUMBER</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>Not input.</p>
        </desc>
</t>
<t>
<field>CARRIER.SEQ.NO</field>
<desc>
            <p>SWIFT and Telex use a sequence number to identify each message.  The last sequence number used is held on the System Status record as SWIFT MF SEQUENCE and TELEX MF SEQUENCE for outgoing messages and SWIFT SF SEQUENCE and TELEX MF SEQUENCE for incoming messages.  When a SWIFT or Telex message is sent, 1 is added to SWIFT MF SEQUENCE or TELEX MF SEQUENCE respectively and its value is stored in the Carrier Seq No for the appropriate copy of the message.  Similarly the appropriate fields are updated when an inward message is received. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>1-5 numeric characters.</p>
        </desc>
</t>
<t>
<field>TEST.KEY.AUTH.</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>(No input).</p>
        </desc>
</t>
<t>
<field>DISPOSITION</field>
<desc>
            <p>Describes the type of processing to be done on this Header. </p>
            <p>If an incoming message received in Inward Carrier Control is found to contain a testkey it is placed in the inward testkey queue with a disposition of 'ATK'.  When the testkey is correctly verified the disposition changes to 'UNFORMATTED' and the message is placed on the unformatted queue for processing by inward formatting.  Incorrect verification places the message in the inward repair file with a disposition of 'REPAIR'.  The message will also go to repair if the message type as defined in DE.MESSAGE requires a testkey and one is not found in the received message. </p>
            <p>For incoming messages, if the error code is 'ERROR - TEST KEY MISSING' or 'ERROR - TEST KEY INVALID', the message may only be deleted. </p>
            <p>If a message received by Inward Carrier Control does not contain or require a testkey, the message has its Disposition set to Unformatted when first put on file by Inward Carrier Control.  If Inward Formatting fails the message goes to the Inward Repair Queue with a Disposition of 'Repair' and a description of the error in the Error Code field.  It can then either be changed to 'Delete' (put on file as 'Deleted') or 'Resubmit' (put on file as 'Unformatted'). </p>
            <p>On successful Inward Formatting the message is put onto the appropriate Application's Inward Message Queue and the Disposition set to 'formatted'. </p>
            <p>For incoming messages, if error code is 'ERROR - TEST KEY MISSING' or 'ERROR - TEST KEY INVALID', message can only be deleted. </p>
            <p>For Incoming messages, processed through OFS GLOBUS MANAGER, Disposition is set to "OFS FORMATTED". </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p />
            <p>Values that are stored on the file:  'UNFORMATTED'     'ATK' 'FORMATTED'   'OFS FORMATTED' 'SELECTED' 'REPAIR' 'DELETED'   Values that may be input:  'DELETE' 'RESUBMIT' 'REPAIR'</p>
        </desc>
</t>
<t>
<field>CURRENCY</field>
<desc>
            <p>Specifies a Currency corresponding to the AMOUNT. </p>
            <p>Picked up from the inward message text when available or appropriate. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>A SWIFT currency code.</p>
            <p>This is a NOINPUT field.</p>
        </desc>
</t>
<t>
<field>TEST.KEY.REQ.</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>(No Input.)</p>
        </desc>
</t>
<t>
<field>FROM.ADDRESS</field>
<desc>
            <p>For an incoming message the sender's address is stored in this field. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>Not input.</p>
        </desc>
</t>
<t>
<field>APPLICATION.QUEUE</field>
<desc>
            <p>Specifies to which Banking Application's Inward Message Queue a message will be sent.  Only for inward Messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>A 2-character Application mnemonic (Not input)</p>
        </desc>
</t>
<t>
<field>OVR.DEL.ADD.</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>No input.</p>
        </desc>
</t>
<t>
<field>COMPANY.CODE</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>Not input.</p>
        </desc>
</t>
<t>
<field>OFS.REQ.DET.KEY</field>
<desc>
            <p>Help Text for this field is unavailable.  Please refer to the T24 User Guides for further information.</p>
        </desc>
</t>
<t>
<field>K.PRIORITY</field>
<desc>
            <p>Help Text for this field is unavailable.  Please refer to the T24 User Guides for further information.</p>
        </desc>
</t>
<t>
<field>CARRIER.ADDR.NO</field>
<desc>
            <p>Specifies the Carrier by which the message was received. </p>
            <p>Carrier is assigned as appropriate by the inward carrier control module receiving the message. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>'SWIFT' 'TELEX' 'EUCLID' 'TELEXP' 'TELEXF' No input.</p>
        </desc>
</t>
<t>
<field>TELEX.BATCH.NO.</field>
<desc>
            <p>Not used for inward messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>(No input).</p>
        </desc>
</t>
<t>
<field>ACCOUNT.NUMBER</field>
<desc>
            <p>Used for inward EUCLID messages to hold the EUCLID account number. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>Not input.</p>
        </desc>
</t>
<t>
<field>AMOUNT</field>
<desc>
            <p>Specifies a value that characterises the message. </p>
            <p>Picked up from the inward message text when available or appropriate. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>Numeric, with a decimal point if that is appropriate to the currency. (Not input)</p>
        </desc>
</t>
<t>
<field>APPLICATION.FORMAT</field>
<desc>
            <p>Not used for incoming Messages. </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>No input.</p>
        </desc>
</t>
<t>
<field>APPLICATION</field>
<desc>
            <p>Not used for inward Messages (see APPLICATION.QUEUE). </p>
            <p>
                <p>Validation Rules:</p>
            </p>
            <p>This is a NOINPUT field.</p>
        </desc>
</t>
</menu>
</t24help>

